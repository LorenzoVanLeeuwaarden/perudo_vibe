---
phase: 15-performance-verification
plan: 01
type: execute
wave: 1
depends_on: []
files_modified: [".planning/phases/15-performance-verification/15-01-VERIFICATION.md", ".planning/REQUIREMENTS.md"]
autonomous: false

must_haves:
  truths:
    - "DudoOverlay runs at 60fps on Firefox (no dropped frames)"
    - "DudoOverlay runs at 60fps on Chrome (no dropped frames)"
    - "Users can see complete Dudo/Calza animation before game transitions"
    - "No visual regression - animations still look good"
  artifacts:
    - path: ".planning/phases/15-performance-verification/15-01-VERIFICATION.md"
      provides: "Performance verification report with test results"
      contains: "VERF-01"
  key_links:
    - from: "VERIFICATION.md"
      to: "REQUIREMENTS.md"
      via: "requirement status updates"
      pattern: "VERF-0[1-3].*Complete"
---

<objective>
Verify that DudoOverlay and other animation-heavy components achieve 60fps performance across Chrome and Firefox browsers, ensuring the optimization work from Phases 13-14 meets the milestone goals.

Purpose: Confirm v2.1 Animation Performance milestone is complete by testing actual performance in both browsers
Output: Verification report documenting test results, updated REQUIREMENTS.md with VERF-01/02/03 marked complete
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/REQUIREMENTS.md
@.planning/phases/13-dudooverlay-optimization/13-01-SUMMARY.md
@.planning/phases/14-other-component-optimization/14-01-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create verification test protocol</name>
  <files>.planning/phases/15-performance-verification/15-01-VERIFICATION.md</files>
  <action>
Create a verification document with test protocol and placeholder for results:

```markdown
# Performance Verification Report

**Phase:** 15-performance-verification
**Date:** [current date]
**Tester:** [to be filled]

## Test Environment

| Browser | Version | OS |
|---------|---------|-----|
| Firefox | [version] | [to be filled] |
| Chrome | [version] | [to be filled] |

## Test Protocol

### Setup
1. Open deployed app at https://faroleo.pages.dev
2. Open browser DevTools > Performance tab
3. Start recording before triggering animation
4. Trigger animation (make a Dudo/Calza call in game)
5. Stop recording after animation completes
6. Check for dropped frames in Performance timeline

### Expected Behavior
- Frame rate should stay at ~60fps (16.67ms per frame)
- No significant dropped frames (red triangles in DevTools)
- Animation should complete fully (2+ seconds visible)
- Visual quality should be acceptable in both browsers

## Test Results

### VERF-01: DudoOverlay 60fps on Firefox

**Status:** [ ] Pass / [ ] Fail

| Metric | Target | Actual |
|--------|--------|--------|
| Frame Rate | 60fps | [measured] |
| Dropped Frames | < 5 | [count] |
| Animation Duration | >= 2s | [observed] |

**Notes:**
[observations]

### VERF-02: DudoOverlay 60fps on Chrome

**Status:** [ ] Pass / [ ] Fail

| Metric | Target | Actual |
|--------|--------|--------|
| Frame Rate | 60fps | [measured] |
| Dropped Frames | < 5 | [count] |
| Animation Duration | >= 2s | [observed] |

**Notes:**
[observations]

### VERF-03: Animation Visibility Before Transition

**Status:** [ ] Pass / [ ] Fail

**Test:** Trigger Dudo/Calza call and observe:
- [ ] Animation is visible for at least 2 seconds
- [ ] Animation completes before game state transitions
- [ ] User has time to see and appreciate the effect

**Notes:**
[observations]

### Visual Regression Check

**Status:** [ ] Pass / [ ] Fail

- [ ] Chrome: Animations look good (particles, glow, text effects)
- [ ] Firefox: Simplified mode looks acceptable (solid backgrounds, reduced effects)
- [ ] No broken animations or visual glitches

**Notes:**
[observations]

## Summary

| Requirement | Status | Notes |
|-------------|--------|-------|
| VERF-01 | [pending] | |
| VERF-02 | [pending] | |
| VERF-03 | [pending] | |

## Issues Found

[list any issues, or "None" if all tests pass]

## Recommendation

[ ] Ready to mark v2.1 milestone complete
[ ] Issues need addressing before completion

---
*Verification conducted: [date]*
```
  </action>
  <verify>File exists at .planning/phases/15-performance-verification/15-01-VERIFICATION.md with test protocol template</verify>
  <done>Verification template created with clear test protocol for VERF-01, VERF-02, VERF-03</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <name>Task 2: Execute performance tests</name>
  <what-built>Verification test protocol document ready for manual testing</what-built>
  <how-to-verify>
Execute the performance verification tests:

**Firefox Testing (VERF-01):**
1. Open Firefox browser
2. Navigate to https://faroleo.pages.dev
3. Open DevTools (F12) > Performance tab
4. Join or create a game room
5. Start recording, then make a Dudo or Calza call
6. Stop recording after animation completes
7. Check frame rate and dropped frames
8. Note: Firefox should show simplified mode (solid backgrounds, no particles)

**Chrome Testing (VERF-02):**
1. Open Chrome browser
2. Navigate to https://faroleo.pages.dev
3. Open DevTools (F12) > Performance tab
4. Join or create a game room
5. Start recording, then make a Dudo or Calza call
6. Stop recording after animation completes
7. Check frame rate and dropped frames
8. Note: Chrome should show full effects (blur, particles, glow)

**Animation Visibility (VERF-03):**
1. In either browser, trigger Dudo/Calza
2. Confirm animation is visible for at least 2 seconds
3. Confirm you can see the complete animation before game state changes

**Visual Check:**
1. In Chrome: confirm particles, glow, blur effects look good
2. In Firefox: confirm simplified mode looks acceptable

Report results by describing what you observed.
  </how-to-verify>
  <resume-signal>
Provide test results in format:
- Firefox FPS: [observed fps]
- Firefox dropped frames: [count or "none"]
- Chrome FPS: [observed fps]
- Chrome dropped frames: [count or "none"]
- Animation visible 2+ seconds: yes/no
- Visual quality: acceptable/issues (describe)
  </resume-signal>
</task>

<task type="auto">
  <name>Task 3: Document results and update requirements</name>
  <files>.planning/phases/15-performance-verification/15-01-VERIFICATION.md, .planning/REQUIREMENTS.md</files>
  <action>
Based on user's test results from Task 2:

1. Update VERIFICATION.md with actual test results:
   - Fill in browser versions
   - Fill in measured frame rates
   - Fill in dropped frame counts
   - Mark Pass/Fail for each requirement
   - Add observations to Notes sections
   - Complete Summary table
   - Fill in Issues Found (or "None")
   - Mark recommendation checkbox

2. Update REQUIREMENTS.md:
   - Mark VERF-01 as [x] Complete (if passed)
   - Mark VERF-02 as [x] Complete (if passed)
   - Mark VERF-03 as [x] Complete (if passed)
   - Update "Last updated" date

If any tests FAILED:
   - Document the specific issues
   - Do NOT mark requirements as complete
   - Add issues to "Issues Found" section
   - Mark recommendation as "Issues need addressing"
  </action>
  <verify>
- VERIFICATION.md has all test results filled in
- REQUIREMENTS.md shows VERF-01, VERF-02, VERF-03 status updated
- If all passed: all three marked [x]
- If any failed: failure documented, requirement not marked complete
  </verify>
  <done>Verification report complete with actual test results, REQUIREMENTS.md updated to reflect verification status</done>
</task>

</tasks>

<verification>
- [ ] Test protocol document created with clear steps
- [ ] Human executed tests in both Firefox and Chrome
- [ ] Test results documented with actual measurements
- [ ] REQUIREMENTS.md updated with verification status
- [ ] Any issues found are documented
</verification>

<success_criteria>
Phase 15 is complete when:
1. VERF-01 verified: DudoOverlay runs at 60fps on Firefox (Pass/Fail documented)
2. VERF-02 verified: DudoOverlay runs at 60fps on Chrome (Pass/Fail documented)
3. VERF-03 verified: Animation visible for 2+ seconds before transition (Pass/Fail documented)
4. Visual regression check completed (no broken animations)
5. REQUIREMENTS.md updated to reflect verification status
6. If all pass: v2.1 milestone ready to close
7. If any fail: issues documented for follow-up
</success_criteria>

<output>
After completion, create `.planning/phases/15-performance-verification/15-01-SUMMARY.md`
</output>
